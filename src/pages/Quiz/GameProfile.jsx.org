import { useState } from 'react';

export default function PlayerProfile() {
  const [player, setPlayer] = useState({
    name: 'Alex',
    level: 3,
    points: 150,
  });
  const onLevelUp = () => {
    setPlayer((prev) => ({
      ...prev,
      level: prev.level + 1,
      points: prev.points + 50,
    }));
  };

  const addRank = () => {
    // const exist = player.hasOwnProperty('rank');
    // if (!exist) {
    //   setPlayer((prev) => ({
    //     ...prev,
    //     rank: 'Beginner',
    //   }));
    // }
    setPlayer((prev) => {
      if ('rank' in prev) return prev;

      return {
        ...prev,
        rank: 'Beginner',
      };
    });
  };

  const resetRank = () => {
    // const removed = delete player['rank'];
    // setPlayer({ ...removed });
    setPlayer((prev) => {
      const { rank, ...rest } = prev;
      return rest;
    });
  };

  return (
    <div>
      <h2>Player Profile</h2>

      <p>Name: {player.name}</p>
      <p>Level: {player.level}</p>
      <p>Points: {player.points}</p>
      {player.rank && <p>Rank: {player.rank}</p>}

      <button onClick={onLevelUp}>Level Up</button>
      <button onClick={addRank}>Add Rank</button>
      <button onClick={resetRank}>Reset Rank</button>
    </div>
  );
}

// import { useState } from 'react';

// export default function PlayerProfile() {
//   const [player, setPlayer] = useState({
//     name: 'Alex',
//     level: 3,
//     points: 150,
//   });

//   return (
//     <div>
//       <h2>Player Profile</h2>

//       <p>Name: {player.name}</p>
//       <p>Level: {player.level}</p>
//       <p>Points: {player.points}</p>
//       {player.rank && <p>Rank: {player.rank}</p>}

//       <button>Level Up</button>
//       <button>Add Rank</button>
//       <button>Reset Rank</button>
//     </div>
//   );
// }
